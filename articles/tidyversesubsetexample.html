<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="actdata">
<title>Comparing meanings: a worked example • actdata</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comparing meanings: a worked example">
<meta property="og:description" content="actdata">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">actdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9003</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/actdata.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/dictionaries.html">Dictionaries</a>
    <a class="dropdown-item" href="../articles/equations.html">Equations</a>
    <a class="dropdown-item" href="../articles/export.html">Exporting data</a>
    <a class="dropdown-item" href="../articles/standardization.html">Dictionary standardization details</a>
    <a class="dropdown-item" href="../articles/tidyversesubsetexample.html">Comparing meanings: a worked example</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Comparing meanings: a worked example</h1>
            
      
      <small class="dont-index">Source: <a href="NA/NA/NA/blob/HEAD/vignettes/tidyversesubsetexample.Rmd"><code>vignettes/tidyversesubsetexample.Rmd</code></a></small>
      <div class="d-none name"><code>tidyversesubsetexample.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ahcombs.github.io/actdata/">actdata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<p>The Tidyverse makes it easy to create new combinations or subsets of ACT dictionaries in a way that is completely replicable, and to visualize quantities of interest over time and/or across countries. An example of how these data sets can be used along with <code>dplyr</code>, <code>tidyr</code>, and <code>ggplot</code> is presented here.</p>
<p>Say we are interested in comparing changes in evaluation ratings for terms over time in whatever countries possible. The dictionary table above as well as <code><a href="../reference/dict_info.html">dict_info()</a></code> show that the three countries in which multiple dictionaries have been collected are the U.S., Canada, and Germany. Let’s choose three U.S. dictionaries (nc1978, texas1998, and usfullsurveyor2015), two Canadian dictionaries (ontario1980 and ontario2001), and two German dictionaries (germany1989 and germany2007). Now we need to find the terms that are in all seven dictionaries. The term table is useful to quickly get a first look at this.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nc1978"</span>, <span class="st">"texas1998"</span>, <span class="st">"usfullsurveyor2015"</span>, <span class="st">"ontario1980"</span>, <span class="st">"ontario2001"</span>, <span class="st">"germany1989"</span>, <span class="st">"germany2007"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">term_table_short</span> <span class="op">&lt;-</span> <span class="va">term_table</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># we only need the columns for our chosen dictionaries</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">component</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># filter to those terms present in all chosen dictionaries</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">if_all</a></span><span class="op">(</span><span class="va">datasets</span>, <span class="op">~</span> <span class="va">.</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Note: Using an external vector in selections is ambiguous.</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">ℹ</span> Use `all_of(datasets)` instead of `datasets` to silence this message.</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">ℹ</span> See &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This message is displayed once per session.</span></span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">term_table_short</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 9</span></span></span>
<span><span class="co">#&gt;   term      component nc1978 texas1998 usfulls…¹ ontar…² ontar…³ germa…⁴ germa…⁵</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> adulterer identity       1         1         1       1       1       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> afraid    modifier       1         1         1       1       1       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> alcoholic identity       1         1         1       1       1       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> anxious   modifier       1         1         1       1       1       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> appeal_to behavior       1         1         1       1       1       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> applicant identity       1         1         1       1       1       1       1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable names ¹​usfullsurveyor2015, ²​ontario1980,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ³​ontario2001, ⁴​germany1989, ⁵​germany2007</span></span></span></code></pre></div>
<p>We now have a list of the 225 identities included in all seven dictionaries. Let’s get the mean EPA values for these terms.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># trim the term table further to get rid of the dataset key columns</span></span>
<span><span class="va">term_table_forfilter</span> <span class="op">&lt;-</span> <span class="va">term_table_short</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">component</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Now, merge this list with the EPA summary dataset to get epa values for the countries and years we are interested in.</span></span>
<span><span class="co"># First, subset the epa summary dataframe to the dictionaries we want, to only include means, and to only include gender averaged values.</span></span>
<span><span class="va">term_subset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/epa_subset.html">epa_subset</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="va">datasets</span>, stat <span class="op">=</span> <span class="st">"mean"</span>, gender <span class="op">=</span> <span class="st">"average"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># then right join with the term list we built before to subset to only the terms we are interested in. </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">right_join</a></span><span class="op">(</span><span class="va">term_table_forfilter</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"term"</span>, <span class="st">"component"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">term</span><span class="op">)</span></span>
<span></span>
<span><span class="va">term_subset</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>,<span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 20 × 10</span></span></span>
<span><span class="co">#&gt;    term      component dataset context year  gender instc…¹      E      P      A</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> academic  identity  german… Germany 1989  avera… 11 000…  0.81   0.54  -<span style="color: #BB0000;">0.765</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> academic  identity  german… Germany 2007  avera… 11 000…  1.60   1.25  -<span style="color: #BB0000;">0.125</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> academic  identity  nc1978  US      1978  avera… 11 000…  0.975  0.735 -<span style="color: #BB0000;">0.5</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> academic  identity  ontari… Canada  1980  avera… 11 000…  1.38   1.04  -<span style="color: #BB0000;">0.42</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> academic  identity  ontari… Canada  2001  avera… 11 000…  1.64   1.23   0.235</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> academic  identity  texas1… US      1998  avera… 11 000…  1.83   1.69   0.37 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> academic  identity  usfull… US      2015  avera… 11 000…  2.34   2.26  -<span style="color: #BB0000;">0.12</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> adopt     behavior  german… Germany 1989  avera… 10 000…  1.8   -<span style="color: #BB0000;">0.265</span> -<span style="color: #BB0000;">0.485</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> adopt     behavior  german… Germany 2007  avera… 10 000…  2.24   1.77  -<span style="color: #BB0000;">0.235</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> adopt     behavior  nc1978  US      1978  avera… 10 000…  1.92   1.56   0.035</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> adopt     behavior  ontari… Canada  1980  avera… 10 000…  2.41   1.04   0.33 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> adopt     behavior  ontari… Canada  2001  avera… 10 000…  2.30   1.58   0.755</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> adopt     behavior  texas1… US      1998  avera… 10 000…  3.04   1.88   1.25 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> adopt     behavior  usfull… US      2015  avera… 10 000…  3.12   2.88   0.15 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> adulterer identity  german… Germany 1989  avera… 10 000… -<span style="color: #BB0000;">1.6</span>    0.445  0.745</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> adulterer identity  german… Germany 2007  avera… 10 000… -<span style="color: #BB0000;">2.46</span>   0.365  0.68 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> adulterer identity  nc1978  US      1978  avera… 10 000… -<span style="color: #BB0000;">1.80</span>   0      0.855</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> adulterer identity  ontari… Canada  1980  avera… 10 000… -<span style="color: #BB0000;">1.92</span>   0.5    0.89 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span> adulterer identity  ontari… Canada  2001  avera… 10 000… -<span style="color: #BB0000;">2.32</span>  -<span style="color: #BB0000;">0.09</span>   0.31 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span> adulterer identity  texas1… US      1998  avera… 10 000… -<span style="color: #BB0000;">2.77</span>  -<span style="color: #BB0000;">0.655</span>  0.345</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable name ¹​instcodes</span></span></span></code></pre></div>
<p>Now we have a dataframe that contains just the gender-averaged EPA values for the terms that the seven dictionaries share.</p>
<p>How are meanings changing overall? We can calculate meaning change summary statistics to get a better sense of this:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eval_change</span> <span class="op">&lt;-</span> <span class="va">term_subset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># get rid of the texas dataset here; just use the first and last US sets for a change calculation. Drop institution codes too, we won't use them here.</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op">!=</span> <span class="st">"texas1998"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># first pivot longer so that there is one sentiment value per row</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">E</span>, <span class="va">P</span>, <span class="va">A</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">"dimension"</span>, values_to <span class="op">=</span> <span class="st">"rating"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">component</span>, <span class="va">context</span>, <span class="va">year</span>, <span class="va">dimension</span>, <span class="va">rating</span>, <span class="op">-</span><span class="va">instcodes</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2015"</span>, <span class="st">"2007"</span>, <span class="st">"2001"</span><span class="op">)</span>, <span class="st">"late"</span>, <span class="st">"early"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># then pivot wider by time order</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">order</span>, values_from <span class="op">=</span> <span class="va">rating</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># we get a warning here because there are a few duplicate terms. Clown, secretary, and waiter are all included more than once in the nc1978 dataset. This is something to watch for; there are other duplicates in other datasets as well. These are in the original raw data files and they have been left as is in this package. Here, I remove these terms. I also remove "no_emotion" here.</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="va">term</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"waiter"</span>, <span class="st">"clown"</span>, <span class="st">"secretary"</span>, <span class="st">"no_emotion"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="co"># now calculate change</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>change <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">late</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">early</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Warning: Values from `rating` are not uniquely identified; output will contain list-cols.</span></span>
<span><span class="co">#&gt; * Use `values_fn = list` to suppress this warning.</span></span>
<span><span class="co">#&gt; * Use `values_fn = {summary_fun}` to summarise duplicates.</span></span>
<span><span class="co">#&gt; * Use the following dplyr code to identify duplicates.</span></span>
<span><span class="co">#&gt;   {data} %&gt;%</span></span>
<span><span class="co">#&gt;     dplyr::group_by(term, component, context, dimension, order) %&gt;%</span></span>
<span><span class="co">#&gt;     dplyr::summarise(n = dplyr::n(), .groups = "drop") %&gt;%</span></span>
<span><span class="co">#&gt;     dplyr::filter(n &gt; 1L)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">eval_change</span><span class="op">$</span><span class="va">change</span><span class="op">)</span></span>
<span><span class="co">#&gt;     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. </span></span>
<span><span class="co">#&gt; -3.09500 -0.30000  0.07000  0.08698  0.50000  2.68500</span></span></code></pre></div>
<p>Mean and median change for all three countries are close to 0, suggesting broad stability in cultural meanings over time, but in all three datasets there are terms which change meaning substantially. Let’s find the terms that have undergone the biggest changes in meaning:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eval_change_substantial</span> <span class="op">&lt;-</span> <span class="va">eval_change</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">change</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">eval_change_substantial</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 7</span></span></span>
<span><span class="co">#&gt;   term      component context dimension early     late      change</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> fool      identity  Germany A         <span style="color: #949494;">&lt;dbl [1]&gt;</span> <span style="color: #949494;">&lt;dbl [1]&gt;</span>  -<span style="color: #BB0000;">3.10</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> cajole    behavior  Germany A         <span style="color: #949494;">&lt;dbl [1]&gt;</span> <span style="color: #949494;">&lt;dbl [1]&gt;</span>  -<span style="color: #BB0000;">2.7</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> cajole    behavior  Germany E         <span style="color: #949494;">&lt;dbl [1]&gt;</span> <span style="color: #949494;">&lt;dbl [1]&gt;</span>   2.68</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> harm      behavior  Germany P         <span style="color: #949494;">&lt;dbl [1]&gt;</span> <span style="color: #949494;">&lt;dbl [1]&gt;</span>  -<span style="color: #BB0000;">2.59</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> doll      identity  US      A         <span style="color: #949494;">&lt;dbl [1]&gt;</span> <span style="color: #949494;">&lt;dbl [1]&gt;</span>  -<span style="color: #BB0000;">2.51</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> miserable modifier  Germany P         <span style="color: #949494;">&lt;dbl [1]&gt;</span> <span style="color: #949494;">&lt;dbl [1]&gt;</span>  -<span style="color: #BB0000;">2.26</span></span></span></code></pre></div>
<p>This data format is amenable to plotting with ggplot. Let’s look at a few of the terms which have seen substantial meaning change.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">change_terms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lesbian"</span>, <span class="st">"junkie"</span>, <span class="st">"depressed"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># I'm returning to the subset data frame here</span></span>
<span><span class="va">terms_toplot</span> <span class="op">&lt;-</span> <span class="va">term_subset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">term</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">change_terms</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>Evaluation <span class="op">=</span> <span class="va">E</span>, </span>
<span>         Potency <span class="op">=</span> <span class="va">P</span>,</span>
<span>         Activity <span class="op">=</span> <span class="va">A</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">Evaluation</span>, <span class="va">Potency</span>, <span class="va">Activity</span><span class="op">)</span>, names_to <span class="op">=</span> <span class="st">"dimension"</span>, values_to <span class="op">=</span> <span class="st">"rating"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>dimension <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">dimension</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Evaluation"</span>, <span class="st">"Potency"</span>, <span class="st">"Activity"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">terms_toplot</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">rating</span>, shape <span class="op">=</span> <span class="va">context</span>, color <span class="op">=</span> <span class="va">term</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="st">"dimension"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Year"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Mean sentiment rating"</span><span class="op">)</span></span></code></pre></div>
<p><img src="tidyversesubsetexample_files/figure-html/plot-1.png" width="672"></p>
<p>This shows that “lesbian” rose on the evaluation and power dimensions in all three countries and “junkie” fell on the activity dimension in all three countries. The trajectory of “depressed” was more place-dependent: it fell on all three dimensions in the US, stayed stable on evaluation and potency in Canada and Germany, and fell on activity in Germany. This type of analysis cannot show causation, of course, but it can be a useful start point for identifying and investigating terms that may have been affected by social movements or other shifts within and/or across countries. Similarly, this kind of analysis could be used to identify terms that vary across cultures, and, in cultures where multiple datasets have been collected, to investigate whether these differences have changed over time.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Aidan Combs.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
